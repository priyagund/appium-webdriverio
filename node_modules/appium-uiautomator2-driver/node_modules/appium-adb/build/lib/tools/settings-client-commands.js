"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _logger = _interopRequireDefault(require("../logger.js"));
var _helpers = require("../helpers.js");
var _lodash = _interopRequireDefault(require("lodash"));
var _support = require("@appium/support");
var _asyncbox = require("asyncbox");
var _utf = require("utf7");
var _teen_process = require("teen_process");
var _bluebird = _interopRequireDefault(require("bluebird"));
const SETTINGS_HELPER_ID = 'io.appium.settings';
const SETTINGS_HELPER_MAIN_ACTIVITY = '.Settings';
const WIFI_CONNECTION_SETTING_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.WiFiConnectionSettingReceiver`;
const WIFI_CONNECTION_SETTING_ACTION = `${SETTINGS_HELPER_ID}.wifi`;
const DATA_CONNECTION_SETTING_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.DataConnectionSettingReceiver`;
const DATA_CONNECTION_SETTING_ACTION = `${SETTINGS_HELPER_ID}.data_connection`;
const ANIMATION_SETTING_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.AnimationSettingReceiver`;
const ANIMATION_SETTING_ACTION = `${SETTINGS_HELPER_ID}.animation`;
const LOCALE_SETTING_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.LocaleSettingReceiver`;
const LOCALE_SETTING_ACTION = `${SETTINGS_HELPER_ID}.locale`;
const LOCATION_SERVICE = `${SETTINGS_HELPER_ID}/.LocationService`;
const LOCATION_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.LocationInfoReceiver`;
const LOCATION_RETRIEVAL_ACTION = `${SETTINGS_HELPER_ID}.location`;
const CLIPBOARD_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.ClipboardReceiver`;
const CLIPBOARD_RETRIEVAL_ACTION = `${SETTINGS_HELPER_ID}.clipboard.get`;
const NOTIFICATIONS_RETRIEVAL_ACTION = `${SETTINGS_HELPER_ID}.notifications`;
const SMS_LIST_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.SmsReader`;
const SMS_LIST_RETRIEVAL_ACTION = `${SETTINGS_HELPER_ID}.sms.read`;
const MEDIA_SCAN_RECEIVER = `${SETTINGS_HELPER_ID}/.receivers.MediaScannerReceiver`;
const MEDIA_SCAN_ACTION = `${SETTINGS_HELPER_ID}.scan_media`;
const APPIUM_IME = `${SETTINGS_HELPER_ID}/.AppiumIME`;
const UNICODE_IME = `${SETTINGS_HELPER_ID}/.UnicodeIME`;
const DEFAULT_SATELLITES_COUNT = 12;
const DEFAULT_ALTITUDE = 0.0;
const LOCATION_TRACKER_TAG = 'LocationTracker';
const GPS_CACHE_REFRESHED_LOGS = ['The current location has been successfully retrieved from Play Services', 'The current location has been successfully retrieved from Location Manager'];
const GPS_COORDINATES_PATTERN = /data="(-?[\d.]+)\s+(-?[\d.]+)\s+(-?[\d.]+)"/;
const commands = {};

commands.requireRunningSettingsApp = async function requireRunningSettingsApp(opts = {}) {
  if (await this.processExists(SETTINGS_HELPER_ID)) {
    return this;
  }
  _logger.default.debug('Starting Appium Settings app');
  const {
    timeout = 5000
  } = opts;
  await this.startApp({
    pkg: SETTINGS_HELPER_ID,
    activity: SETTINGS_HELPER_MAIN_ACTIVITY,
    action: 'android.intent.action.MAIN',
    category: 'android.intent.category.LAUNCHER',
    stopApp: false,
    waitForLaunch: false
  });
  try {
    await (0, _asyncbox.waitForCondition)(async () => await this.processExists(SETTINGS_HELPER_ID), {
      waitMs: timeout,
      intervalMs: 300
    });
    return this;
  } catch (err) {
    throw new Error(`Appium Settings app is not running after ${timeout}ms`);
  }
};

commands.setWifiState = async function setWifiState(on, isEmulator = false) {
  if (isEmulator) {
    await this.shell(['svc', 'wifi', on ? 'enable' : 'disable'], {
      privileged: (await this.getApiLevel()) < 26
    });
  } else {
    await this.shell(['am', 'broadcast', '-a', WIFI_CONNECTION_SETTING_ACTION, '-n', WIFI_CONNECTION_SETTING_RECEIVER, '--es', 'setstatus', on ? 'enable' : 'disable']);
  }
};

commands.setDataState = async function setDataState(on, isEmulator = false) {
  if (isEmulator) {
    await this.shell(['svc', 'data', on ? 'enable' : 'disable'], {
      privileged: (await this.getApiLevel()) < 26
    });
  } else {
    await this.shell(['am', 'broadcast', '-a', DATA_CONNECTION_SETTING_ACTION, '-n', DATA_CONNECTION_SETTING_RECEIVER, '--es', 'setstatus', on ? 'enable' : 'disable']);
  }
};

commands.setAnimationState = async function setAnimationState(on) {
  await this.shell(['am', 'broadcast', '-a', ANIMATION_SETTING_ACTION, '-n', ANIMATION_SETTING_RECEIVER, '--es', 'setstatus', on ? 'enable' : 'disable']);
};

commands.setDeviceSysLocaleViaSettingApp = async function setDeviceSysLocaleViaSettingApp(language, country, script = null) {
  const params = ['am', 'broadcast', '-a', LOCALE_SETTING_ACTION, '-n', LOCALE_SETTING_RECEIVER, '--es', 'lang', language.toLowerCase(), '--es', 'country', country.toUpperCase()];
  if (script) {
    params.push('--es', 'script', script);
  }
  await this.shell(params);
};

commands.setGeoLocation = async function setGeoLocation(location, isEmulator = false) {
  const formatLocationValue = (valueName, isRequired = true) => {
    if (!_support.util.hasValue(location[valueName])) {
      if (isRequired) {
        throw new Error(`${valueName} must be provided`);
      }
      return null;
    }
    const floatValue = parseFloat(location[valueName]);
    if (!isNaN(floatValue)) {
      return `${_lodash.default.ceil(floatValue, 5)}`;
    }
    if (isRequired) {
      throw new Error(`${valueName} is expected to be a valid float number. ` + `'${location[valueName]}' is given instead`);
    }
    return null;
  };
  const longitude = formatLocationValue('longitude');
  const latitude = formatLocationValue('latitude');
  const altitude = formatLocationValue('altitude', false);
  const speed = formatLocationValue('speed', false);
  if (isEmulator) {
    const args = [longitude, latitude];
    if (!_lodash.default.isNil(altitude)) {
      args.push(altitude);
    }
    const satellites = parseInt(location.satellites, 10);
    if (!Number.isNaN(satellites) && satellites > 0 && satellites <= 12) {
      if (args.length < 3) {
        args.push(`${DEFAULT_ALTITUDE}`);
      }
      args.push(`${satellites}`);
    }
    if (!_lodash.default.isNil(speed)) {
      if (args.length < 3) {
        args.push(`${DEFAULT_ALTITUDE}`);
      }
      if (args.length < 4) {
        args.push(`${DEFAULT_SATELLITES_COUNT}`);
      }
      args.push(speed);
    }
    await this.resetTelnetAuthToken();
    await this.adbExec(['emu', 'geo', 'fix', ...args]);
    await this.adbExec(['emu', 'geo', 'fix', ...args.map(arg => arg.replace('.', ','))]);
  } else {
    const args = ['am', (await this.getApiLevel()) >= 26 ? 'start-foreground-service' : 'startservice', '-e', 'longitude', longitude, '-e', 'latitude', latitude];
    if (_support.util.hasValue(altitude)) {
      args.push('-e', 'altitude', altitude);
    }
    if (_support.util.hasValue(speed)) {
      args.push('-e', 'speed', speed);
    }
    args.push(LOCATION_SERVICE);
    await this.shell(args);
  }
};

commands.getGeoLocation = async function getGeoLocation() {
  let output;
  try {
    output = await this.shell(['am', 'broadcast', '-n', LOCATION_RECEIVER, '-a', LOCATION_RETRIEVAL_ACTION]);
  } catch (err) {
    throw new Error(`Cannot retrieve the current geo coordinates from the device. ` + `Make sure the Appium Settings application is up to date and has location permissions. Also the location ` + `services must be enabled on the device. Original error: ${err.stderr || err.stdout || err.message}`);
  }
  const match = GPS_COORDINATES_PATTERN.exec(output);
  if (!match) {
    throw new Error(`Cannot parse the actual location values from the command output: ${output}`);
  }
  const location = {
    latitude: match[1],
    longitude: match[2],
    altitude: match[3]
  };
  _logger.default.debug(`Got geo coordinates: ${JSON.stringify(location)}`);
  return location;
};

commands.refreshGeoLocationCache = async function refreshGeoLocationCache(timeoutMs = 20000) {
  let logcatMonitor;
  let monitoringPromise;
  if (timeoutMs > 0) {
    const cmd = [...this.adb.defaultArgs, 'logcat', '-s', LOCATION_TRACKER_TAG];
    logcatMonitor = new _teen_process.SubProcess(this.adb.path, cmd);
    const timeoutErrorMsg = `The GPS cache has not been refreshed within ${timeoutMs}ms timeout. ` + `Please make sure the device under test has Appium Settings app installed and running. ` + `Also, it is required that the device has Google Play Services installed or is running ` + `Android 10+ otherwise.`;
    monitoringPromise = new _bluebird.default((resolve, reject) => {
      setTimeout(() => reject(new Error(timeoutErrorMsg)), timeoutMs);
      logcatMonitor.on('exit', () => reject(new Error(timeoutErrorMsg)));
      ['lines-stderr', 'lines-stdout'].map(evt => logcatMonitor.on(evt, lines => {
        if (lines.some(line => GPS_CACHE_REFRESHED_LOGS.some(x => line.includes(x)))) {
          resolve();
        }
      }));
    });
    await logcatMonitor.start(0);
  }
  try {
    await this.shell(['am', 'broadcast', '-n', LOCATION_RECEIVER, '-a', LOCATION_RETRIEVAL_ACTION, '--ez', 'forceUpdate', 'true']);
  } catch (err) {
    throw new Error(`Cannot refresh the GPS cache on the device. ` + `Make sure the Appium Settings application is up to date and has location permissions. Also the location ` + `services must be enabled on the device. Original error: ${err.stderr || err.stdout || err.message}`);
  }
  if (logcatMonitor && monitoringPromise) {
    const timer = new _support.timing.Timer().start();
    _logger.default.debug(`Waiting up to ${timeoutMs}ms for the GPS cache to be refreshed`);
    try {
      await monitoringPromise;
      _logger.default.info(`The GPS cache has been successfully refreshed after ` + `${timer.getDuration().asMilliSeconds.toFixed(0)}ms`);
    } finally {
      if (logcatMonitor.isRunning) {
        await logcatMonitor.stop();
      }
    }
  } else {
    _logger.default.info('The request to refresh the GPS cache has been sent. Skipping waiting for its result.');
  }
};

commands.performEditorAction = async function performEditorAction(action) {
  _logger.default.debug(`Performing editor action: ${action}`);
  await this.runInImeContext(APPIUM_IME, async () => await this.shell(['input', 'text', `/${action}/`]));
};

commands.getClipboard = async function getClipboard() {
  _logger.default.debug('Getting the clipboard content');
  const retrieveClipboard = async () => await this.shell(['am', 'broadcast', '-n', CLIPBOARD_RECEIVER, '-a', CLIPBOARD_RETRIEVAL_ACTION]);
  let output;
  try {
    output = (await this.getApiLevel()) >= 29 ? await this.runInImeContext(APPIUM_IME, retrieveClipboard) : await retrieveClipboard();
  } catch (err) {
    throw new Error(`Cannot retrieve the current clipboard content from the device. ` + `Make sure the Appium Settings application is up to date. ` + `Original error: ${err.message}`);
  }
  const match = /data="([^"]*)"/.exec(output);
  if (!match) {
    throw new Error(`Cannot parse the actual cliboard content from the command output: ${output}`);
  }
  return _lodash.default.trim(match[1]);
};

commands.getNotifications = async function getNotifications() {
  _logger.default.debug('Retrieving notifications');
  await this.requireRunningSettingsApp();
  let output;
  try {
    output = await this.shell(['am', 'broadcast', '-a', NOTIFICATIONS_RETRIEVAL_ACTION]);
  } catch (err) {
    throw new Error(`Cannot retrieve notifications from the device. ` + `Make sure the Appium Settings application is installed and is up to date. ` + `Original error: ${err.message}`);
  }
  return (0, _helpers.parseJsonData)(output, 'notifications');
};

commands.getSmsList = async function getSmsList(opts = {}) {
  _logger.default.debug('Retrieving the recent SMS messages');
  const args = ['am', 'broadcast', '-n', SMS_LIST_RECEIVER, '-a', SMS_LIST_RETRIEVAL_ACTION];
  if (opts.max) {
    args.push('--es', 'max', opts.max);
  }
  let output;
  try {
    output = await this.shell(args);
  } catch (err) {
    throw new Error(`Cannot retrieve SMS list from the device. ` + `Make sure the Appium Settings application is installed and is up to date. ` + `Original error: ${err.message}`);
  }
  return (0, _helpers.parseJsonData)(output, 'SMS list');
};

commands.typeUnicode = async function typeUnicode(text) {
  if (_lodash.default.isNil(text)) {
    return false;
  }
  text = `${text}`;
  _logger.default.debug(`Typing ${_support.util.pluralize('character', text.length, true)}`);
  if (!text) {
    return false;
  }
  await this.runInImeContext(UNICODE_IME, async () => await this.inputText(_utf.imap.encode(text)));
  return true;
};

commands.scanMedia = async function scanMedia(destination) {
  _logger.default.debug(`Scanning '${destination}' for media files`);
  const output = await this.shell(['am', 'broadcast', '-n', MEDIA_SCAN_RECEIVER, '-a', MEDIA_SCAN_ACTION, '--es', 'path', destination]);
  if (!_lodash.default.includes(output, 'result=-1')) {
    throw new Error(`No media could be scanned at '${destination}'. ` + `Check the device logcat output for more details.`);
  }
};
var _default = commands;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTRVRUSU5HU19IRUxQRVJfSUQiLCJTRVRUSU5HU19IRUxQRVJfTUFJTl9BQ1RJVklUWSIsIldJRklfQ09OTkVDVElPTl9TRVRUSU5HX1JFQ0VJVkVSIiwiV0lGSV9DT05ORUNUSU9OX1NFVFRJTkdfQUNUSU9OIiwiREFUQV9DT05ORUNUSU9OX1NFVFRJTkdfUkVDRUlWRVIiLCJEQVRBX0NPTk5FQ1RJT05fU0VUVElOR19BQ1RJT04iLCJBTklNQVRJT05fU0VUVElOR19SRUNFSVZFUiIsIkFOSU1BVElPTl9TRVRUSU5HX0FDVElPTiIsIkxPQ0FMRV9TRVRUSU5HX1JFQ0VJVkVSIiwiTE9DQUxFX1NFVFRJTkdfQUNUSU9OIiwiTE9DQVRJT05fU0VSVklDRSIsIkxPQ0FUSU9OX1JFQ0VJVkVSIiwiTE9DQVRJT05fUkVUUklFVkFMX0FDVElPTiIsIkNMSVBCT0FSRF9SRUNFSVZFUiIsIkNMSVBCT0FSRF9SRVRSSUVWQUxfQUNUSU9OIiwiTk9USUZJQ0FUSU9OU19SRVRSSUVWQUxfQUNUSU9OIiwiU01TX0xJU1RfUkVDRUlWRVIiLCJTTVNfTElTVF9SRVRSSUVWQUxfQUNUSU9OIiwiTUVESUFfU0NBTl9SRUNFSVZFUiIsIk1FRElBX1NDQU5fQUNUSU9OIiwiQVBQSVVNX0lNRSIsIlVOSUNPREVfSU1FIiwiREVGQVVMVF9TQVRFTExJVEVTX0NPVU5UIiwiREVGQVVMVF9BTFRJVFVERSIsIkxPQ0FUSU9OX1RSQUNLRVJfVEFHIiwiR1BTX0NBQ0hFX1JFRlJFU0hFRF9MT0dTIiwiR1BTX0NPT1JESU5BVEVTX1BBVFRFUk4iLCJjb21tYW5kcyIsInJlcXVpcmVSdW5uaW5nU2V0dGluZ3NBcHAiLCJvcHRzIiwicHJvY2Vzc0V4aXN0cyIsImxvZyIsImRlYnVnIiwidGltZW91dCIsInN0YXJ0QXBwIiwicGtnIiwiYWN0aXZpdHkiLCJhY3Rpb24iLCJjYXRlZ29yeSIsInN0b3BBcHAiLCJ3YWl0Rm9yTGF1bmNoIiwid2FpdEZvckNvbmRpdGlvbiIsIndhaXRNcyIsImludGVydmFsTXMiLCJlcnIiLCJFcnJvciIsInNldFdpZmlTdGF0ZSIsIm9uIiwiaXNFbXVsYXRvciIsInNoZWxsIiwicHJpdmlsZWdlZCIsImdldEFwaUxldmVsIiwic2V0RGF0YVN0YXRlIiwic2V0QW5pbWF0aW9uU3RhdGUiLCJzZXREZXZpY2VTeXNMb2NhbGVWaWFTZXR0aW5nQXBwIiwibGFuZ3VhZ2UiLCJjb3VudHJ5Iiwic2NyaXB0IiwicGFyYW1zIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInB1c2giLCJzZXRHZW9Mb2NhdGlvbiIsImxvY2F0aW9uIiwiZm9ybWF0TG9jYXRpb25WYWx1ZSIsInZhbHVlTmFtZSIsImlzUmVxdWlyZWQiLCJ1dGlsIiwiaGFzVmFsdWUiLCJmbG9hdFZhbHVlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiXyIsImNlaWwiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsImFsdGl0dWRlIiwic3BlZWQiLCJhcmdzIiwiaXNOaWwiLCJzYXRlbGxpdGVzIiwicGFyc2VJbnQiLCJOdW1iZXIiLCJsZW5ndGgiLCJyZXNldFRlbG5ldEF1dGhUb2tlbiIsImFkYkV4ZWMiLCJtYXAiLCJhcmciLCJyZXBsYWNlIiwiZ2V0R2VvTG9jYXRpb24iLCJvdXRwdXQiLCJzdGRlcnIiLCJzdGRvdXQiLCJtZXNzYWdlIiwibWF0Y2giLCJleGVjIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hHZW9Mb2NhdGlvbkNhY2hlIiwidGltZW91dE1zIiwibG9nY2F0TW9uaXRvciIsIm1vbml0b3JpbmdQcm9taXNlIiwiY21kIiwiYWRiIiwiZGVmYXVsdEFyZ3MiLCJTdWJQcm9jZXNzIiwicGF0aCIsInRpbWVvdXRFcnJvck1zZyIsIkIiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsImV2dCIsImxpbmVzIiwic29tZSIsImxpbmUiLCJ4IiwiaW5jbHVkZXMiLCJzdGFydCIsInRpbWVyIiwidGltaW5nIiwiVGltZXIiLCJpbmZvIiwiZ2V0RHVyYXRpb24iLCJhc01pbGxpU2Vjb25kcyIsInRvRml4ZWQiLCJpc1J1bm5pbmciLCJzdG9wIiwicGVyZm9ybUVkaXRvckFjdGlvbiIsInJ1bkluSW1lQ29udGV4dCIsImdldENsaXBib2FyZCIsInJldHJpZXZlQ2xpcGJvYXJkIiwidHJpbSIsImdldE5vdGlmaWNhdGlvbnMiLCJwYXJzZUpzb25EYXRhIiwiZ2V0U21zTGlzdCIsIm1heCIsInR5cGVVbmljb2RlIiwidGV4dCIsInBsdXJhbGl6ZSIsImlucHV0VGV4dCIsImltYXAiLCJlbmNvZGUiLCJzY2FuTWVkaWEiLCJkZXN0aW5hdGlvbiJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi90b29scy9zZXR0aW5ncy1jbGllbnQtY29tbWFuZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZyBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsgcGFyc2VKc29uRGF0YSB9IGZyb20gJy4uL2hlbHBlcnMuanMnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHV0aWwsIHRpbWluZyB9IGZyb20gJ0BhcHBpdW0vc3VwcG9ydCc7XG5pbXBvcnQgeyB3YWl0Rm9yQ29uZGl0aW9uIH0gZnJvbSAnYXN5bmNib3gnO1xuaW1wb3J0IHsgaW1hcCB9IGZyb20gJ3V0ZjcnO1xuaW1wb3J0IHsgU3ViUHJvY2VzcyB9IGZyb20gJ3RlZW5fcHJvY2Vzcyc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5cbmNvbnN0IFNFVFRJTkdTX0hFTFBFUl9JRCA9ICdpby5hcHBpdW0uc2V0dGluZ3MnO1xuY29uc3QgU0VUVElOR1NfSEVMUEVSX01BSU5fQUNUSVZJVFkgPSAnLlNldHRpbmdzJztcbmNvbnN0IFdJRklfQ09OTkVDVElPTl9TRVRUSU5HX1JFQ0VJVkVSID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS8ucmVjZWl2ZXJzLldpRmlDb25uZWN0aW9uU2V0dGluZ1JlY2VpdmVyYDtcbmNvbnN0IFdJRklfQ09OTkVDVElPTl9TRVRUSU5HX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0ud2lmaWA7XG5jb25zdCBEQVRBX0NPTk5FQ1RJT05fU0VUVElOR19SRUNFSVZFUiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0vLnJlY2VpdmVycy5EYXRhQ29ubmVjdGlvblNldHRpbmdSZWNlaXZlcmA7XG5jb25zdCBEQVRBX0NPTk5FQ1RJT05fU0VUVElOR19BQ1RJT04gPSBgJHtTRVRUSU5HU19IRUxQRVJfSUR9LmRhdGFfY29ubmVjdGlvbmA7XG5jb25zdCBBTklNQVRJT05fU0VUVElOR19SRUNFSVZFUiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0vLnJlY2VpdmVycy5BbmltYXRpb25TZXR0aW5nUmVjZWl2ZXJgO1xuY29uc3QgQU5JTUFUSU9OX1NFVFRJTkdfQUNUSU9OID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS5hbmltYXRpb25gO1xuY29uc3QgTE9DQUxFX1NFVFRJTkdfUkVDRUlWRVIgPSBgJHtTRVRUSU5HU19IRUxQRVJfSUR9Ly5yZWNlaXZlcnMuTG9jYWxlU2V0dGluZ1JlY2VpdmVyYDtcbmNvbnN0IExPQ0FMRV9TRVRUSU5HX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0ubG9jYWxlYDtcbmNvbnN0IExPQ0FUSU9OX1NFUlZJQ0UgPSBgJHtTRVRUSU5HU19IRUxQRVJfSUR9Ly5Mb2NhdGlvblNlcnZpY2VgO1xuY29uc3QgTE9DQVRJT05fUkVDRUlWRVIgPSBgJHtTRVRUSU5HU19IRUxQRVJfSUR9Ly5yZWNlaXZlcnMuTG9jYXRpb25JbmZvUmVjZWl2ZXJgO1xuY29uc3QgTE9DQVRJT05fUkVUUklFVkFMX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0ubG9jYXRpb25gO1xuY29uc3QgQ0xJUEJPQVJEX1JFQ0VJVkVSID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS8ucmVjZWl2ZXJzLkNsaXBib2FyZFJlY2VpdmVyYDtcbmNvbnN0IENMSVBCT0FSRF9SRVRSSUVWQUxfQUNUSU9OID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS5jbGlwYm9hcmQuZ2V0YDtcbmNvbnN0IE5PVElGSUNBVElPTlNfUkVUUklFVkFMX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0ubm90aWZpY2F0aW9uc2A7XG5jb25zdCBTTVNfTElTVF9SRUNFSVZFUiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0vLnJlY2VpdmVycy5TbXNSZWFkZXJgO1xuY29uc3QgU01TX0xJU1RfUkVUUklFVkFMX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0uc21zLnJlYWRgO1xuY29uc3QgTUVESUFfU0NBTl9SRUNFSVZFUiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0vLnJlY2VpdmVycy5NZWRpYVNjYW5uZXJSZWNlaXZlcmA7XG5jb25zdCBNRURJQV9TQ0FOX0FDVElPTiA9IGAke1NFVFRJTkdTX0hFTFBFUl9JRH0uc2Nhbl9tZWRpYWA7XG5jb25zdCBBUFBJVU1fSU1FID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS8uQXBwaXVtSU1FYDtcbmNvbnN0IFVOSUNPREVfSU1FID0gYCR7U0VUVElOR1NfSEVMUEVSX0lEfS8uVW5pY29kZUlNRWA7XG5jb25zdCBERUZBVUxUX1NBVEVMTElURVNfQ09VTlQgPSAxMjtcbmNvbnN0IERFRkFVTFRfQUxUSVRVREUgPSAwLjA7XG5jb25zdCBMT0NBVElPTl9UUkFDS0VSX1RBRyA9ICdMb2NhdGlvblRyYWNrZXInO1xuY29uc3QgR1BTX0NBQ0hFX1JFRlJFU0hFRF9MT0dTID0gW1xuICAnVGhlIGN1cnJlbnQgbG9jYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJldHJpZXZlZCBmcm9tIFBsYXkgU2VydmljZXMnLFxuICAnVGhlIGN1cnJlbnQgbG9jYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJldHJpZXZlZCBmcm9tIExvY2F0aW9uIE1hbmFnZXInXG5dO1xuXG5jb25zdCBHUFNfQ09PUkRJTkFURVNfUEFUVEVSTiA9IC9kYXRhPVwiKC0/W1xcZC5dKylcXHMrKC0/W1xcZC5dKylcXHMrKC0/W1xcZC5dKylcIi87XG5cbmNvbnN0IGNvbW1hbmRzID0ge307XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2V0dGluZ3NBcHBTdGFydHVwT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVvdXQgWzUwMDBdIFRoZSBtYXhpbXVtIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAqIHRvIHdhaXQgdW50aWwgdGhlIGFwcCBoYXMgc3RhcnRlZFxuICovXG5cbi8qKlxuICogRW5zdXJlcyB0aGF0IEFwcGl1bSBTZXR0aW5ncyBoZWxwZXIgYXBwbGljYXRpb24gaXMgcnVubmluZ1xuICogYW5kIHN0YXJ0cyBpdCBpZiBuZWNlc3NhcnlcbiAqXG4gKiBAcGFyYW0ge1NldHRpbmdzQXBwU3RhcnR1cE9wdGlvbnN9IG9wdHNcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBBcHBpdW0gU2V0dGluZ3MgaGFzIGZhaWxlZCB0byBzdGFydFxuICogQHJldHVybnMge0FEQn0gc2VsZiBpbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAqL1xuY29tbWFuZHMucmVxdWlyZVJ1bm5pbmdTZXR0aW5nc0FwcCA9IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVSdW5uaW5nU2V0dGluZ3NBcHAgKG9wdHMgPSB7fSkge1xuICBpZiAoYXdhaXQgdGhpcy5wcm9jZXNzRXhpc3RzKFNFVFRJTkdTX0hFTFBFUl9JRCkpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxvZy5kZWJ1ZygnU3RhcnRpbmcgQXBwaXVtIFNldHRpbmdzIGFwcCcpO1xuICBjb25zdCB7XG4gICAgdGltZW91dCA9IDUwMDAsXG4gIH0gPSBvcHRzO1xuICBhd2FpdCB0aGlzLnN0YXJ0QXBwKHtcbiAgICBwa2c6IFNFVFRJTkdTX0hFTFBFUl9JRCxcbiAgICBhY3Rpdml0eTogU0VUVElOR1NfSEVMUEVSX01BSU5fQUNUSVZJVFksXG4gICAgYWN0aW9uOiAnYW5kcm9pZC5pbnRlbnQuYWN0aW9uLk1BSU4nLFxuICAgIGNhdGVnb3J5OiAnYW5kcm9pZC5pbnRlbnQuY2F0ZWdvcnkuTEFVTkNIRVInLFxuICAgIHN0b3BBcHA6IGZhbHNlLFxuICAgIHdhaXRGb3JMYXVuY2g6IGZhbHNlLFxuICB9KTtcbiAgdHJ5IHtcbiAgICBhd2FpdCB3YWl0Rm9yQ29uZGl0aW9uKGFzeW5jICgpID0+IGF3YWl0IHRoaXMucHJvY2Vzc0V4aXN0cyhTRVRUSU5HU19IRUxQRVJfSUQpLCB7XG4gICAgICB3YWl0TXM6IHRpbWVvdXQsXG4gICAgICBpbnRlcnZhbE1zOiAzMDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcihgQXBwaXVtIFNldHRpbmdzIGFwcCBpcyBub3QgcnVubmluZyBhZnRlciAke3RpbWVvdXR9bXNgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIHN0YXRlIG9mIFdpRmkgb24gdGhlIGRldmljZSB1bmRlciB0ZXN0LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb24gLSBUcnVlIHRvIGVuYWJsZSBhbmQgZmFsc2UgdG8gZGlzYWJsZSBpdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFbXVsYXRvciBbZmFsc2VdIC0gU2V0IGl0IHRvIHRydWUgaWYgdGhlIGRldmljZSB1bmRlciB0ZXN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFuIGVtdWxhdG9yIHJhdGhlciB0aGFuIGEgcmVhbCBkZXZpY2UuXG4gKi9cbmNvbW1hbmRzLnNldFdpZmlTdGF0ZSA9IGFzeW5jIGZ1bmN0aW9uIHNldFdpZmlTdGF0ZSAob24sIGlzRW11bGF0b3IgPSBmYWxzZSkge1xuICBpZiAoaXNFbXVsYXRvcikge1xuICAgIC8vIFRoZSBzdmMgY29tbWFuZCBkb2VzIG5vdCByZXF1aXJlIHRvIGJlIHJvb3Qgc2luY2UgQVBJIDI2XG4gICAgYXdhaXQgdGhpcy5zaGVsbChbJ3N2YycsICd3aWZpJywgb24gPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10sIHtcbiAgICAgIHByaXZpbGVnZWQ6IGF3YWl0IHRoaXMuZ2V0QXBpTGV2ZWwoKSA8IDI2LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGF3YWl0IHRoaXMuc2hlbGwoW1xuICAgICAgJ2FtJywgJ2Jyb2FkY2FzdCcsXG4gICAgICAnLWEnLCBXSUZJX0NPTk5FQ1RJT05fU0VUVElOR19BQ1RJT04sXG4gICAgICAnLW4nLCBXSUZJX0NPTk5FQ1RJT05fU0VUVElOR19SRUNFSVZFUixcbiAgICAgICctLWVzJywgJ3NldHN0YXR1cycsIG9uID8gJ2VuYWJsZScgOiAnZGlzYWJsZSdcbiAgICBdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIHN0YXRlIG9mIERhdGEgdHJhbnNmZXIgb24gdGhlIGRldmljZSB1bmRlciB0ZXN0LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb24gLSBUcnVlIHRvIGVuYWJsZSBhbmQgZmFsc2UgdG8gZGlzYWJsZSBpdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFbXVsYXRvciBbZmFsc2VdIC0gU2V0IGl0IHRvIHRydWUgaWYgdGhlIGRldmljZSB1bmRlciB0ZXN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFuIGVtdWxhdG9yIHJhdGhlciB0aGFuIGEgcmVhbCBkZXZpY2UuXG4gKi9cbmNvbW1hbmRzLnNldERhdGFTdGF0ZSA9IGFzeW5jIGZ1bmN0aW9uIHNldERhdGFTdGF0ZSAob24sIGlzRW11bGF0b3IgPSBmYWxzZSkge1xuICBpZiAoaXNFbXVsYXRvcikge1xuICAgIC8vIFRoZSBzdmMgY29tbWFuZCBkb2VzIG5vdCByZXF1aXJlIHRvIGJlIHJvb3Qgc2luY2UgQVBJIDI2XG4gICAgYXdhaXQgdGhpcy5zaGVsbChbJ3N2YycsICdkYXRhJywgb24gPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10sIHtcbiAgICAgIHByaXZpbGVnZWQ6IGF3YWl0IHRoaXMuZ2V0QXBpTGV2ZWwoKSA8IDI2LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGF3YWl0IHRoaXMuc2hlbGwoW1xuICAgICAgJ2FtJywgJ2Jyb2FkY2FzdCcsXG4gICAgICAnLWEnLCBEQVRBX0NPTk5FQ1RJT05fU0VUVElOR19BQ1RJT04sXG4gICAgICAnLW4nLCBEQVRBX0NPTk5FQ1RJT05fU0VUVElOR19SRUNFSVZFUixcbiAgICAgICctLWVzJywgJ3NldHN0YXR1cycsIG9uID8gJ2VuYWJsZScgOiAnZGlzYWJsZSdcbiAgICBdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIHN0YXRlIG9mIGFuaW1hdGlvbiBvbiB0aGUgZGV2aWNlIHVuZGVyIHRlc3QuXG4gKiBBbmltYXRpb24gb24gdGhlIGRldmljZSBpcyBjb250cm9sbGVkIGJ5IHRoZSBmb2xsb3dpbmcgZ2xvYmFsIHByb3BlcnRpZXM6XG4gKiBbQU5JTUFUT1JfRFVSQVRJT05fU0NBTEVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3JlZmVyZW5jZS9hbmRyb2lkL3Byb3ZpZGVyL1NldHRpbmdzLkdsb2JhbC5odG1sI0FOSU1BVE9SX0RVUkFUSU9OX1NDQUxFfSxcbiAqIFtUUkFOU0lUSU9OX0FOSU1BVElPTl9TQ0FMRV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvcHJvdmlkZXIvU2V0dGluZ3MuR2xvYmFsLmh0bWwjVFJBTlNJVElPTl9BTklNQVRJT05fU0NBTEV9LFxuICogW1dJTkRPV19BTklNQVRJT05fU0NBTEVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3JlZmVyZW5jZS9hbmRyb2lkL3Byb3ZpZGVyL1NldHRpbmdzLkdsb2JhbC5odG1sI1dJTkRPV19BTklNQVRJT05fU0NBTEV9LlxuICogVGhpcyBtZXRob2Qgc2V0cyBhbGwgdGhpcyBwcm9wZXJ0aWVzIHRvIDAuMCB0byBkaXNhYmxlICgxLjAgdG8gZW5hYmxlKSBhbmltYXRpb24uXG4gKlxuICogVHVybmluZyBvZmYgYW5pbWF0aW9uIG1pZ2h0IGJlIHVzZWZ1bCB0byBpbXByb3ZlIHN0YWJpbGl0eVxuICogYW5kIHJlZHVjZSB0ZXN0cyBleGVjdXRpb24gdGltZS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9uIC0gVHJ1ZSB0byBlbmFibGUgYW5kIGZhbHNlIHRvIGRpc2FibGUgaXQuXG4gKi9cbmNvbW1hbmRzLnNldEFuaW1hdGlvblN0YXRlID0gYXN5bmMgZnVuY3Rpb24gc2V0QW5pbWF0aW9uU3RhdGUgKG9uKSB7XG4gIGF3YWl0IHRoaXMuc2hlbGwoW1xuICAgICdhbScsICdicm9hZGNhc3QnLFxuICAgICctYScsIEFOSU1BVElPTl9TRVRUSU5HX0FDVElPTixcbiAgICAnLW4nLCBBTklNQVRJT05fU0VUVElOR19SRUNFSVZFUixcbiAgICAnLS1lcycsICdzZXRzdGF0dXMnLCBvbiA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXG4gIF0pO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIGxvY2FsZSBvbiB0aGUgZGV2aWNlIHVuZGVyIHRlc3QuIERvbid0IG5lZWQgdG8gcmVib290IHRoZSBkZXZpY2UgYWZ0ZXIgY2hhbmdpbmcgdGhlIGxvY2FsZS5cbiAqIFRoaXMgbWV0aG9kIHNldHMgYW4gYXJiaXRyYXJ5IGxvY2FsZSBmb2xsb3dpbmc6XG4gKiAgIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3JlZmVyZW5jZS9qYXZhL3V0aWwvTG9jYWxlLmh0bWxcbiAqICAgaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2phdmEvdXRpbC9Mb2NhbGUuaHRtbCNMb2NhbGUoamF2YS5sYW5nLlN0cmluZywlMjBqYXZhLmxhbmcuU3RyaW5nKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlLiBlLmcuIGVuLCBqYVxuICogQHBhcmFtIHtzdHJpbmd9IGNvdW50cnkgLSBDb3VudHJ5LiBlLmcuIFVTLCBKUFxuICogQHBhcmFtIHs/c3RyaW5nfSBzY3JpcHQgLSBTY3JpcHQuIGUuZy4gSGFucyBpbiBgemgtSGFucy1DTmBcbiAqL1xuY29tbWFuZHMuc2V0RGV2aWNlU3lzTG9jYWxlVmlhU2V0dGluZ0FwcCA9IGFzeW5jIGZ1bmN0aW9uIHNldERldmljZVN5c0xvY2FsZVZpYVNldHRpbmdBcHAgKGxhbmd1YWdlLCBjb3VudHJ5LCBzY3JpcHQgPSBudWxsKSB7XG4gIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAnYW0nLCAnYnJvYWRjYXN0JyxcbiAgICAnLWEnLCBMT0NBTEVfU0VUVElOR19BQ1RJT04sXG4gICAgJy1uJywgTE9DQUxFX1NFVFRJTkdfUkVDRUlWRVIsXG4gICAgJy0tZXMnLCAnbGFuZycsIGxhbmd1YWdlLnRvTG93ZXJDYXNlKCksXG4gICAgJy0tZXMnLCAnY291bnRyeScsIGNvdW50cnkudG9VcHBlckNhc2UoKVxuICBdO1xuXG4gIGlmIChzY3JpcHQpIHtcbiAgICBwYXJhbXMucHVzaCgnLS1lcycsICdzY3JpcHQnLCBzY3JpcHQpO1xuICB9XG5cbiAgYXdhaXQgdGhpcy5zaGVsbChwYXJhbXMpO1xufTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExvY2F0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcnxzdHJpbmd9IGxvbmdpdHVkZSAtIFZhbGlkIGxvbmdpdHVkZSB2YWx1ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfHN0cmluZ30gbGF0aXR1ZGUgLSBWYWxpZCBsYXRpdHVkZSB2YWx1ZS5cbiAqIEBwcm9wZXJ0eSB7P251bWJlcnxzdHJpbmd9IGFsdGl0dWRlIC0gVmFsaWQgYWx0aXR1ZGUgdmFsdWUuXG4gKiBAcHJvcGVydHkgez9udW1iZXJ8c3RyaW5nfSBzYXRlbGxpdGVzIFsxMl0gLSBOdW1iZXIgb2Ygc2F0ZWxsaXRlcyBiZWluZyB0cmFja2VkICgxLTEyKS5cbiAqIFRoaXMgdmFsdWUgaXMgaWdub3JlZCBvbiByZWFsIGRldmljZXMuXG4gKiBAcHJvcGVydHkgez9udW1iZXJ8c3RyaW5nfSBzcGVlZCAtIFZhbGlkIHNwZWVkIHZhbHVlLlxuICogU2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAwLjAgbWV0ZXJzL3NlY29uZCBmb3IgcmVhbCBkZXZpY2VzIG9yIDAuMCBrbm90c1xuICogZm9yIGVtdWxhdG9ycy5cbiAqL1xuXG4vKipcbiAqIEVtdWxhdGUgZ2VvbG9jYXRpb24gY29vcmRpbmF0ZXMgb24gdGhlIGRldmljZSB1bmRlciB0ZXN0LlxuICpcbiAqIEBwYXJhbSB7TG9jYXRpb259IGxvY2F0aW9uIC0gTG9jYXRpb24gb2JqZWN0LiBUaGUgYGFsdGl0dWRlYCB2YWx1ZSBpcyBpZ25vcmVkXG4gKiB3aGlsZSBtb2NraW5nIHRoZSBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFbXVsYXRvciBbZmFsc2VdIC0gU2V0IGl0IHRvIHRydWUgaWYgdGhlIGRldmljZSB1bmRlciB0ZXN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFuIGVtdWxhdG9yIHJhdGhlciB0aGFuIGEgcmVhbCBkZXZpY2UuXG4gKi9cbmNvbW1hbmRzLnNldEdlb0xvY2F0aW9uID0gYXN5bmMgZnVuY3Rpb24gc2V0R2VvTG9jYXRpb24gKGxvY2F0aW9uLCBpc0VtdWxhdG9yID0gZmFsc2UpIHtcbiAgY29uc3QgZm9ybWF0TG9jYXRpb25WYWx1ZSA9ICh2YWx1ZU5hbWUsIGlzUmVxdWlyZWQgPSB0cnVlKSA9PiB7XG4gICAgaWYgKCF1dGlsLmhhc1ZhbHVlKGxvY2F0aW9uW3ZhbHVlTmFtZV0pKSB7XG4gICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsdWVOYW1lfSBtdXN0IGJlIHByb3ZpZGVkYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobG9jYXRpb25bdmFsdWVOYW1lXSk7XG4gICAgaWYgKCFpc05hTihmbG9hdFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGAke18uY2VpbChmbG9hdFZhbHVlLCA1KX1gO1xuICAgIH1cbiAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3ZhbHVlTmFtZX0gaXMgZXhwZWN0ZWQgdG8gYmUgYSB2YWxpZCBmbG9hdCBudW1iZXIuIGAgK1xuICAgICAgICBgJyR7bG9jYXRpb25bdmFsdWVOYW1lXX0nIGlzIGdpdmVuIGluc3RlYWRgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGNvbnN0IGxvbmdpdHVkZSA9IGZvcm1hdExvY2F0aW9uVmFsdWUoJ2xvbmdpdHVkZScpO1xuICBjb25zdCBsYXRpdHVkZSA9IGZvcm1hdExvY2F0aW9uVmFsdWUoJ2xhdGl0dWRlJyk7XG4gIGNvbnN0IGFsdGl0dWRlID0gZm9ybWF0TG9jYXRpb25WYWx1ZSgnYWx0aXR1ZGUnLCBmYWxzZSk7XG4gIGNvbnN0IHNwZWVkID0gZm9ybWF0TG9jYXRpb25WYWx1ZSgnc3BlZWQnLCBmYWxzZSk7XG4gIGlmIChpc0VtdWxhdG9yKSB7XG4gICAgY29uc3QgYXJncyA9IFtsb25naXR1ZGUsIGxhdGl0dWRlXTtcbiAgICBpZiAoIV8uaXNOaWwoYWx0aXR1ZGUpKSB7XG4gICAgICBhcmdzLnB1c2goYWx0aXR1ZGUpO1xuICAgIH1cbiAgICBjb25zdCBzYXRlbGxpdGVzID0gcGFyc2VJbnQobG9jYXRpb24uc2F0ZWxsaXRlcywgMTApO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKHNhdGVsbGl0ZXMpICYmIHNhdGVsbGl0ZXMgPiAwICYmIHNhdGVsbGl0ZXMgPD0gMTIpIHtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgYXJncy5wdXNoKGAke0RFRkFVTFRfQUxUSVRVREV9YCk7XG4gICAgICB9XG4gICAgICBhcmdzLnB1c2goYCR7c2F0ZWxsaXRlc31gKTtcbiAgICB9XG4gICAgaWYgKCFfLmlzTmlsKHNwZWVkKSkge1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMykge1xuICAgICAgICBhcmdzLnB1c2goYCR7REVGQVVMVF9BTFRJVFVERX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgYXJncy5wdXNoKGAke0RFRkFVTFRfU0FURUxMSVRFU19DT1VOVH1gKTtcbiAgICAgIH1cbiAgICAgIGFyZ3MucHVzaChzcGVlZCk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMucmVzZXRUZWxuZXRBdXRoVG9rZW4oKTtcbiAgICBhd2FpdCB0aGlzLmFkYkV4ZWMoWydlbXUnLCAnZ2VvJywgJ2ZpeCcsIC4uLmFyZ3NdKTtcbiAgICAvLyBBIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTIwNjE4MFxuICAgIGF3YWl0IHRoaXMuYWRiRXhlYyhbJ2VtdScsICdnZW8nLCAnZml4JywgLi4uKGFyZ3MubWFwKChhcmcpID0+IGFyZy5yZXBsYWNlKCcuJywgJywnKSkpXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYXJncyA9IFtcbiAgICAgICdhbScsIChhd2FpdCB0aGlzLmdldEFwaUxldmVsKCkgPj0gMjYpID8gJ3N0YXJ0LWZvcmVncm91bmQtc2VydmljZScgOiAnc3RhcnRzZXJ2aWNlJyxcbiAgICAgICctZScsICdsb25naXR1ZGUnLCBsb25naXR1ZGUsXG4gICAgICAnLWUnLCAnbGF0aXR1ZGUnLCBsYXRpdHVkZSxcbiAgICBdO1xuICAgIGlmICh1dGlsLmhhc1ZhbHVlKGFsdGl0dWRlKSkge1xuICAgICAgYXJncy5wdXNoKCctZScsICdhbHRpdHVkZScsIGFsdGl0dWRlKTtcbiAgICB9XG4gICAgaWYgKHV0aWwuaGFzVmFsdWUoc3BlZWQpKSB7XG4gICAgICBhcmdzLnB1c2goJy1lJywgJ3NwZWVkJywgc3BlZWQpO1xuICAgIH1cbiAgICBhcmdzLnB1c2goTE9DQVRJT05fU0VSVklDRSk7XG4gICAgYXdhaXQgdGhpcy5zaGVsbChhcmdzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY2FjaGVkIEdQUyBsb2NhdGlvbiBmcm9tIHRoZSBkZXZpY2UgdW5kZXIgdGVzdC5cbiAqXG4gKiBAcmV0dXJucyB7TG9jYXRpb259IFRoZSBjdXJyZW50IGxvY2F0aW9uXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGN1cnJlbnQgbG9jYXRpb24gY2Fubm90IGJlIHJldHJpZXZlZFxuICovXG5jb21tYW5kcy5nZXRHZW9Mb2NhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGdldEdlb0xvY2F0aW9uICgpIHtcbiAgbGV0IG91dHB1dDtcbiAgdHJ5IHtcbiAgICBvdXRwdXQgPSBhd2FpdCB0aGlzLnNoZWxsKFtcbiAgICAgICdhbScsICdicm9hZGNhc3QnLFxuICAgICAgJy1uJywgTE9DQVRJT05fUkVDRUlWRVIsXG4gICAgICAnLWEnLCBMT0NBVElPTl9SRVRSSUVWQUxfQUNUSU9OLFxuICAgIF0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZXRyaWV2ZSB0aGUgY3VycmVudCBnZW8gY29vcmRpbmF0ZXMgZnJvbSB0aGUgZGV2aWNlLiBgICtcbiAgICAgIGBNYWtlIHN1cmUgdGhlIEFwcGl1bSBTZXR0aW5ncyBhcHBsaWNhdGlvbiBpcyB1cCB0byBkYXRlIGFuZCBoYXMgbG9jYXRpb24gcGVybWlzc2lvbnMuIEFsc28gdGhlIGxvY2F0aW9uIGAgK1xuICAgICAgYHNlcnZpY2VzIG11c3QgYmUgZW5hYmxlZCBvbiB0aGUgZGV2aWNlLiBPcmlnaW5hbCBlcnJvcjogJHtlcnIuc3RkZXJyIHx8IGVyci5zdGRvdXQgfHwgZXJyLm1lc3NhZ2V9YCk7XG4gIH1cblxuICBjb25zdCBtYXRjaCA9IEdQU19DT09SRElOQVRFU19QQVRURVJOLmV4ZWMob3V0cHV0KTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHBhcnNlIHRoZSBhY3R1YWwgbG9jYXRpb24gdmFsdWVzIGZyb20gdGhlIGNvbW1hbmQgb3V0cHV0OiAke291dHB1dH1gKTtcbiAgfVxuICBjb25zdCBsb2NhdGlvbiA9IHtcbiAgICBsYXRpdHVkZTogbWF0Y2hbMV0sXG4gICAgbG9uZ2l0dWRlOiBtYXRjaFsyXSxcbiAgICBhbHRpdHVkZTogbWF0Y2hbM10sXG4gIH07XG4gIGxvZy5kZWJ1ZyhgR290IGdlbyBjb29yZGluYXRlczogJHtKU09OLnN0cmluZ2lmeShsb2NhdGlvbil9YCk7XG4gIHJldHVybiBsb2NhdGlvbjtcbn07XG5cbi8qKlxuICogU2VuZHMgYW4gYXN5bmMgcmVxdWVzdCB0byByZWZyZXNoIHRoZSBHUFMgY2FjaGUuXG4gKiBUaGlzIGZlYXR1cmUgb25seSB3b3JrcyBpZiB0aGUgZGV2aWNlIHVuZGVyIHRlc3QgaGFzXG4gKiBHb29nbGUgUGxheSBTZXJ2aWNlcyBpbnN0YWxsZWQuIEluIGNhc2UgdGhlIHZhbmlsbGFcbiAqIExvY2F0aW9uTWFuYWdlciBpcyB1c2VkIHRoZSBkZXZpY2UgQVBJIGxldmVsIG11c3QgYmUgYXRcbiAqIHZlcnNpb24gMzAgKEFuZHJvaWQgUikgb3IgaGlnaGVyLlxuICpcbiAqIEBwYXJhbSB0aW1lb3V0TXMgWzIwMDAwXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gKiB0byBibG9jayB1bnRpbCBHUFMgY2FjaGUgaXMgcmVmcmVzaGVkLiBQcm92aWRpbmcgemVybyBvciBhIG5lZ2F0aXZlXG4gKiB2YWx1ZSB0byBpdCBza2lwcyB3YWl0aW5nIGNvbXBsZXRlbHkuXG4gKlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBHUFMgY2FjaGUgY2Fubm90IGJlIHJlZnJlc2hlZC5cbiAqL1xuY29tbWFuZHMucmVmcmVzaEdlb0xvY2F0aW9uQ2FjaGUgPSBhc3luYyBmdW5jdGlvbiByZWZyZXNoR2VvTG9jYXRpb25DYWNoZSAodGltZW91dE1zID0gMjAwMDApIHtcbiAgbGV0IGxvZ2NhdE1vbml0b3I7XG4gIGxldCBtb25pdG9yaW5nUHJvbWlzZTtcblxuICBpZiAodGltZW91dE1zID4gMCkge1xuICAgIGNvbnN0IGNtZCA9IFtcbiAgICAgIC4uLnRoaXMuYWRiLmRlZmF1bHRBcmdzLFxuICAgICAgJ2xvZ2NhdCcsICctcycsIExPQ0FUSU9OX1RSQUNLRVJfVEFHLFxuICAgIF07XG4gICAgbG9nY2F0TW9uaXRvciA9IG5ldyBTdWJQcm9jZXNzKHRoaXMuYWRiLnBhdGgsIGNtZCk7XG4gICAgY29uc3QgdGltZW91dEVycm9yTXNnID0gYFRoZSBHUFMgY2FjaGUgaGFzIG5vdCBiZWVuIHJlZnJlc2hlZCB3aXRoaW4gJHt0aW1lb3V0TXN9bXMgdGltZW91dC4gYCArXG4gICAgICBgUGxlYXNlIG1ha2Ugc3VyZSB0aGUgZGV2aWNlIHVuZGVyIHRlc3QgaGFzIEFwcGl1bSBTZXR0aW5ncyBhcHAgaW5zdGFsbGVkIGFuZCBydW5uaW5nLiBgICtcbiAgICAgIGBBbHNvLCBpdCBpcyByZXF1aXJlZCB0aGF0IHRoZSBkZXZpY2UgaGFzIEdvb2dsZSBQbGF5IFNlcnZpY2VzIGluc3RhbGxlZCBvciBpcyBydW5uaW5nIGAgK1xuICAgICAgYEFuZHJvaWQgMTArIG90aGVyd2lzZS5gO1xuICAgIG1vbml0b3JpbmdQcm9taXNlID0gbmV3IEIoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKHRpbWVvdXRFcnJvck1zZykpLCB0aW1lb3V0TXMpO1xuXG4gICAgICBsb2djYXRNb25pdG9yLm9uKCdleGl0JywgKCkgPT4gcmVqZWN0KG5ldyBFcnJvcih0aW1lb3V0RXJyb3JNc2cpKSk7XG4gICAgICBbJ2xpbmVzLXN0ZGVycicsICdsaW5lcy1zdGRvdXQnXS5tYXAoKGV2dCkgPT4gbG9nY2F0TW9uaXRvci5vbihldnQsIChsaW5lcykgPT4ge1xuICAgICAgICBpZiAobGluZXMuc29tZSgobGluZSkgPT4gR1BTX0NBQ0hFX1JFRlJFU0hFRF9MT0dTLnNvbWUoKHgpID0+IGxpbmUuaW5jbHVkZXMoeCkpKSkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIGF3YWl0IGxvZ2NhdE1vbml0b3Iuc3RhcnQoMCk7XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IHRoaXMuc2hlbGwoW1xuICAgICAgJ2FtJywgJ2Jyb2FkY2FzdCcsXG4gICAgICAnLW4nLCBMT0NBVElPTl9SRUNFSVZFUixcbiAgICAgICctYScsIExPQ0FUSU9OX1JFVFJJRVZBTF9BQ1RJT04sXG4gICAgICAnLS1leicsICdmb3JjZVVwZGF0ZScsICd0cnVlJyxcbiAgICBdKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVmcmVzaCB0aGUgR1BTIGNhY2hlIG9uIHRoZSBkZXZpY2UuIGAgK1xuICAgICAgYE1ha2Ugc3VyZSB0aGUgQXBwaXVtIFNldHRpbmdzIGFwcGxpY2F0aW9uIGlzIHVwIHRvIGRhdGUgYW5kIGhhcyBsb2NhdGlvbiBwZXJtaXNzaW9ucy4gQWxzbyB0aGUgbG9jYXRpb24gYCArXG4gICAgICBgc2VydmljZXMgbXVzdCBiZSBlbmFibGVkIG9uIHRoZSBkZXZpY2UuIE9yaWdpbmFsIGVycm9yOiAke2Vyci5zdGRlcnIgfHwgZXJyLnN0ZG91dCB8fCBlcnIubWVzc2FnZX1gKTtcbiAgfVxuXG4gIGlmIChsb2djYXRNb25pdG9yICYmIG1vbml0b3JpbmdQcm9taXNlKSB7XG4gICAgY29uc3QgdGltZXIgPSBuZXcgdGltaW5nLlRpbWVyKCkuc3RhcnQoKTtcbiAgICBsb2cuZGVidWcoYFdhaXRpbmcgdXAgdG8gJHt0aW1lb3V0TXN9bXMgZm9yIHRoZSBHUFMgY2FjaGUgdG8gYmUgcmVmcmVzaGVkYCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vbml0b3JpbmdQcm9taXNlO1xuICAgICAgbG9nLmluZm8oYFRoZSBHUFMgY2FjaGUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJlZnJlc2hlZCBhZnRlciBgICtcbiAgICAgICAgYCR7dGltZXIuZ2V0RHVyYXRpb24oKS5hc01pbGxpU2Vjb25kcy50b0ZpeGVkKDApfW1zYCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChsb2djYXRNb25pdG9yLmlzUnVubmluZykge1xuICAgICAgICBhd2FpdCBsb2djYXRNb25pdG9yLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbG9nLmluZm8oJ1RoZSByZXF1ZXN0IHRvIHJlZnJlc2ggdGhlIEdQUyBjYWNoZSBoYXMgYmVlbiBzZW50LiBTa2lwcGluZyB3YWl0aW5nIGZvciBpdHMgcmVzdWx0LicpO1xuICB9XG59O1xuXG4vKipcbiAqIFBlcmZvcm1zIHRoZSBnaXZlbiBlZGl0b3IgYWN0aW9uIG9uIHRoZSBmb2N1c2VkIGlucHV0IGZpZWxkLlxuICogVGhpcyBtZXRob2QgcmVxdWlyZXMgQXBwaXVtIFNldHRpbmdzIGhlbHBlciB0byBiZSBpbnN0YWxsZWQgb24gdGhlIGRldmljZS5cbiAqIE5vIGV4Y2VwdGlvbiBpcyB0aHJvd24gaWYgdGhlcmUgd2FzIGEgZmFpbHVyZSB3aGlsZSBwZXJmb3JtaW5nIHRoZSBhY3Rpb24uXG4gKiBZb3UgbXVzdCBpbnZlc3RpZ2F0ZSB0aGUgbG9nY2F0IG91dHB1dCBpZiBzb21ldGhpbmcgZGlkIG5vdCB3b3JrIGFzIGV4cGVjdGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gYWN0aW9uIC0gRWl0aGVyIGFjdGlvbiBjb2RlIG9yIG5hbWUuIFRoZSBmb2xsb3dpbmcgYWN0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzIGFyZSBzdXBwb3J0ZWQ6IGBub3JtYWwsIHVuc3BlY2lmaWVkLCBub25lLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbywgc2VhcmNoLCBzZW5kLCBuZXh0LCBkb25lLCBwcmV2aW91c2BcbiAqL1xuY29tbWFuZHMucGVyZm9ybUVkaXRvckFjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1FZGl0b3JBY3Rpb24gKGFjdGlvbikge1xuICBsb2cuZGVidWcoYFBlcmZvcm1pbmcgZWRpdG9yIGFjdGlvbjogJHthY3Rpb259YCk7XG4gIGF3YWl0IHRoaXMucnVuSW5JbWVDb250ZXh0KEFQUElVTV9JTUUsXG4gICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5zaGVsbChbJ2lucHV0JywgJ3RleHQnLCBgLyR7YWN0aW9ufS9gXSkpO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgZGV2aWNlJ3MgY2xpcGJvYXJkLlxuICogVGhlIG1ldGhvZCB3b3JrcyBmb3IgQW5kcm9pZCBiZWxvdyBhbmQgYWJvdmUgMjkuXG4gKiBJdCB0ZW1vcmFyaWx5IGVuZm9yY2VzIHRoZSBJTUUgc2V0dGluZyBpbiBvcmRlciB0byB3b3JrYXJvdW5kXG4gKiBzZWN1cml0eSBsaW1pdGF0aW9ucyBpZiBuZWVkZWQuXG4gKiBUaGlzIG1ldGhvZCBvbmx5IHdvcmtzIGlmIEFwcGl1bSBTZXR0aW5ncyB2LiAyLjE1KyBpcyBpbnN0YWxsZWRcbiAqIG9uIHRoZSBkZXZpY2UgdW5kZXIgdGVzdFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBhY3R1YWwgY29udGVudCBvZiB0aGUgbWFpbiBjbGlwYm9hcmQgYXNcbiAqIGJhc2U2NC1lbmNvZGVkIHN0cmluZyBvciBhbiBlbXB0eSBzdHJpbmcgaWYgdGhlIGNsaXBib2FyZCBpcyBlbXB0eVxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIHdhcyBhIHByb2JsZW0gd2hpbGUgZ2V0dGluZyB0aGVcbiAqIGNsaXBib2FyZCBjb250YW50XG4gKi9cbmNvbW1hbmRzLmdldENsaXBib2FyZCA9IGFzeW5jIGZ1bmN0aW9uIGdldENsaXBib2FyZCAoKSB7XG4gIGxvZy5kZWJ1ZygnR2V0dGluZyB0aGUgY2xpcGJvYXJkIGNvbnRlbnQnKTtcbiAgY29uc3QgcmV0cmlldmVDbGlwYm9hcmQgPSBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnNoZWxsKFtcbiAgICAnYW0nLCAnYnJvYWRjYXN0JyxcbiAgICAnLW4nLCBDTElQQk9BUkRfUkVDRUlWRVIsXG4gICAgJy1hJywgQ0xJUEJPQVJEX1JFVFJJRVZBTF9BQ1RJT04sXG4gIF0pO1xuICBsZXQgb3V0cHV0O1xuICB0cnkge1xuICAgIG91dHB1dCA9IChhd2FpdCB0aGlzLmdldEFwaUxldmVsKCkgPj0gMjkpXG4gICAgICA/IChhd2FpdCB0aGlzLnJ1bkluSW1lQ29udGV4dChBUFBJVU1fSU1FLCByZXRyaWV2ZUNsaXBib2FyZCkpXG4gICAgICA6IChhd2FpdCByZXRyaWV2ZUNsaXBib2FyZCgpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmV0cmlldmUgdGhlIGN1cnJlbnQgY2xpcGJvYXJkIGNvbnRlbnQgZnJvbSB0aGUgZGV2aWNlLiBgICtcbiAgICAgIGBNYWtlIHN1cmUgdGhlIEFwcGl1bSBTZXR0aW5ncyBhcHBsaWNhdGlvbiBpcyB1cCB0byBkYXRlLiBgICtcbiAgICAgIGBPcmlnaW5hbCBlcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgfVxuXG4gIGNvbnN0IG1hdGNoID0gL2RhdGE9XCIoW15cIl0qKVwiLy5leGVjKG91dHB1dCk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSB0aGUgYWN0dWFsIGNsaWJvYXJkIGNvbnRlbnQgZnJvbSB0aGUgY29tbWFuZCBvdXRwdXQ6ICR7b3V0cHV0fWApO1xuICB9XG4gIHJldHVybiBfLnRyaW0obWF0Y2hbMV0pO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgQW5kcm9pZCBub3RpZmljYXRpb25zIHZpYSBBcHBpdW0gU2V0dGluZ3MgaGVscGVyLlxuICogQXBwaXVtIFNldHRpbmdzIGFwcCBpdHNlbGYgbXVzdCBiZSAqbWFudWFsbHkqIGdyYW50ZWQgdG8gYWNjZXNzIG5vdGlmaWNhdGlvbnNcbiAqIHVuZGVyIGRldmljZSBTZXR0aW5ncyBpbiBvcmRlciB0byBtYWtlIHRoaXMgZmVhdHVyZSB3b3JraW5nLlxuICogQXBwaXVtIFNldHRpbmdzIGhlbHBlciBrZWVwcyBhbGwgdGhlIGFjdGl2ZSBub3RpZmljYXRpb25zIHBsdXNcbiAqIG5vdGlmaWNhdGlvbnMgdGhhdCBhcHBlYXJlZCB3aGlsZSBpdCB3YXMgcnVubmluZyBpbiB0aGUgaW50ZXJuYWwgYnVmZmVyLFxuICogYnV0IG5vIG1vcmUgdGhhbiAxMDAgaXRlbXMgYWx0b2dldGhlci4gTmV3bHkgYXBwZWFyZWQgbm90aWZpY2F0aW9uc1xuICogYXJlIGFsd2F5cyBhZGRlZCB0byB0aGUgaGVhZCBvZiB0aGUgbm90aWZpY2F0aW9ucyBhcnJheS5cbiAqIFRoZSBgaXNSZW1vdmVkYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAgZm9yIG5vdGlmaWNhdGlvbnMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvc2VydmljZS9ub3RpZmljYXRpb24vU3RhdHVzQmFyTm90aWZpY2F0aW9uXG4gKiBhbmQgaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvYXBwL05vdGlmaWNhdGlvbi5odG1sXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBhdmFpbGFibGUgbm90aWZpY2F0aW9uIHByb3BlcnRpZXMgYW5kIHRoZWlyIHZhbHVlcy5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZXhhbXBsZSBvdXRwdXQgaXM6XG4gKiBgYGBqc29uXG4gKiB7XG4gKiAgIFwic3RhdHVzQmFyTm90aWZpY2F0aW9uc1wiOltcbiAqICAgICB7XG4gKiAgICAgICBcImlzR3JvdXBcIjpmYWxzZSxcbiAqICAgICAgIFwicGFja2FnZU5hbWVcIjpcImlvLmFwcGl1bS5zZXR0aW5nc1wiLFxuICogICAgICAgXCJpc0NsZWFyYWJsZVwiOmZhbHNlLFxuICogICAgICAgXCJpc09uZ29pbmdcIjp0cnVlLFxuICogICAgICAgXCJpZFwiOjEsXG4gKiAgICAgICBcInRhZ1wiOm51bGwsXG4gKiAgICAgICBcIm5vdGlmaWNhdGlvblwiOntcbiAqICAgICAgICAgXCJ0aXRsZVwiOm51bGwsXG4gKiAgICAgICAgIFwiYmlnVGl0bGVcIjpcIkFwcGl1bSBTZXR0aW5nc1wiLFxuICogICAgICAgICBcInRleHRcIjpudWxsLFxuICogICAgICAgICBcImJpZ1RleHRcIjpcIktlZXAgdGhpcyBzZXJ2aWNlIHJ1bm5pbmcsIHNvIEFwcGl1bSBmb3IgQW5kcm9pZCBjYW4gcHJvcGVybHkgaW50ZXJhY3Qgd2l0aCBzZXZlcmFsIHN5c3RlbSBBUElzXCIsXG4gKiAgICAgICAgIFwidGlja2VyVGV4dFwiOm51bGwsXG4gKiAgICAgICAgIFwic3ViVGV4dFwiOm51bGwsXG4gKiAgICAgICAgIFwiaW5mb1RleHRcIjpudWxsLFxuICogICAgICAgICBcInRlbXBsYXRlXCI6XCJhbmRyb2lkLmFwcC5Ob3RpZmljYXRpb24kQmlnVGV4dFN0eWxlXCJcbiAqICAgICAgIH0sXG4gKiAgICAgICBcInVzZXJIYW5kbGVcIjowLFxuICogICAgICAgXCJncm91cEtleVwiOlwiMHxpby5hcHBpdW0uc2V0dGluZ3N8MXxudWxsfDEwMTMzXCIsXG4gKiAgICAgICBcIm92ZXJyaWRlR3JvdXBLZXlcIjpudWxsLFxuICogICAgICAgXCJwb3N0VGltZVwiOjE1NzY4NTM1MTg4NTAsXG4gKiAgICAgICBcImtleVwiOlwiMHxpby5hcHBpdW0uc2V0dGluZ3N8MXxudWxsfDEwMTMzXCIsXG4gKiAgICAgICBcImlzUmVtb3ZlZFwiOmZhbHNlXG4gKiAgICAgfVxuICogICBdXG4gKiB9XG4gKiBgYGBcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgZ2V0dGluZyB0aGUgbm90aWZpY2F0aW9ucyBsaXN0XG4gKi9cbmNvbW1hbmRzLmdldE5vdGlmaWNhdGlvbnMgPSBhc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25zICgpIHtcbiAgbG9nLmRlYnVnKCdSZXRyaWV2aW5nIG5vdGlmaWNhdGlvbnMnKTtcbiAgLy8gU29tZWhvdyBwcm92aWRpbmcgdGhlIGAtbmAgYXJnIHRvIHRoZSBgYW1gIHVuZGVybmVhdGhcbiAgLy8gcmVuZGVycyB0aGUgYnJvYWRjYXN0IHRvIGZhaWwgaW5zdGVhZCBvZiBzdGFydGluZyB0aGVcbiAgLy8gQXBwaXVtIFNldHRpbmdzIGFwcC4gVGhpcyBvbmx5IGhhcHBlbnMgdG8gdGhlIG5vdGlmaWNhdGlvbnNcbiAgLy8gcmVjZWl2ZXJcbiAgYXdhaXQgdGhpcy5yZXF1aXJlUnVubmluZ1NldHRpbmdzQXBwKCk7XG4gIGxldCBvdXRwdXQ7XG4gIHRyeSB7XG4gICAgb3V0cHV0ID0gYXdhaXQgdGhpcy5zaGVsbChbXG4gICAgICAnYW0nLCAnYnJvYWRjYXN0JyxcbiAgICAgICctYScsIE5PVElGSUNBVElPTlNfUkVUUklFVkFMX0FDVElPTixcbiAgICBdKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmV0cmlldmUgbm90aWZpY2F0aW9ucyBmcm9tIHRoZSBkZXZpY2UuIGAgK1xuICAgICAgYE1ha2Ugc3VyZSB0aGUgQXBwaXVtIFNldHRpbmdzIGFwcGxpY2F0aW9uIGlzIGluc3RhbGxlZCBhbmQgaXMgdXAgdG8gZGF0ZS4gYCArXG4gICAgICBgT3JpZ2luYWwgZXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSnNvbkRhdGEob3V0cHV0LCAnbm90aWZpY2F0aW9ucycpO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTbXNMaXN0T3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heCBbMTAwXSAtIFRoZSBtYXhpbXVtIGNvdW50IG9mIHJlY2VudCBtZXNzYWdlc1xuICogdG8gcmV0cmlldmVcbiAqL1xuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiB0aGUgbW9zdCByZWNlbnQgU01TXG4gKiBwcm9wZXJ0aWVzIGxpc3QgdmlhIEFwcGl1bSBTZXR0aW5ncyBoZWxwZXIuXG4gKiBNZXNzYWdlcyBhcmUgc29ydGVkIGJ5IGRhdGUgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAqXG4gKiBAcGFyYW0ge1Ntc0xpc3RPcHRpb25zfSBvcHRzXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZXhhbXBsZSBvdXRwdXQgaXM6XG4gKiBgYGBqc29uXG4gKiB7XG4gKiAgIFwiaXRlbXNcIjpbXG4gKiAgICAge1xuICogICAgICAgXCJpZFwiOlwiMlwiLFxuICogICAgICAgXCJhZGRyZXNzXCI6XCIrMTIzNDU2Nzg5XCIsXG4gKiAgICAgICBcInBlcnNvblwiOm51bGwsXG4gKiAgICAgICBcImRhdGVcIjpcIjE1ODE5MzY0MjIyMDNcIixcbiAqICAgICAgIFwicmVhZFwiOlwiMFwiLFxuICogICAgICAgXCJzdGF0dXNcIjpcIi0xXCIsXG4gKiAgICAgICBcInR5cGVcIjpcIjFcIixcbiAqICAgICAgIFwic3ViamVjdFwiOm51bGwsXG4gKiAgICAgICBcImJvZHlcIjpcIlxcXCJ0ZXh0IG1lc3NhZ2UyXFxcIlwiLFxuICogICAgICAgXCJzZXJ2aWNlQ2VudGVyXCI6bnVsbFxuICogICAgIH0sXG4gKiAgICAge1xuICogICAgICAgXCJpZFwiOlwiMVwiLFxuICogICAgICAgXCJhZGRyZXNzXCI6XCIrMTIzNDU2Nzg5XCIsXG4gKiAgICAgICBcInBlcnNvblwiOm51bGwsXG4gKiAgICAgICBcImRhdGVcIjpcIjE1ODE5MzYzODI3NDBcIixcbiAqICAgICAgIFwicmVhZFwiOlwiMFwiLFxuICogICAgICAgXCJzdGF0dXNcIjpcIi0xXCIsXG4gKiAgICAgICBcInR5cGVcIjpcIjFcIixcbiAqICAgICAgIFwic3ViamVjdFwiOm51bGwsXG4gKiAgICAgICBcImJvZHlcIjpcIlxcXCJ0ZXh0IG1lc3NhZ2VcXFwiXCIsXG4gKiAgICAgICBcInNlcnZpY2VDZW50ZXJcIjpudWxsXG4gKiAgICAgfVxuICogICBdLFxuICogICBcInRvdGFsXCI6MlxuICogfVxuICogYGBgXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGdldHRpbmcgdGhlIFNNUyBsaXN0XG4gKi9cbmNvbW1hbmRzLmdldFNtc0xpc3QgPSBhc3luYyBmdW5jdGlvbiBnZXRTbXNMaXN0IChvcHRzID0ge30pIHtcbiAgbG9nLmRlYnVnKCdSZXRyaWV2aW5nIHRoZSByZWNlbnQgU01TIG1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFyZ3MgPSBbXG4gICAgJ2FtJywgJ2Jyb2FkY2FzdCcsXG4gICAgJy1uJywgU01TX0xJU1RfUkVDRUlWRVIsXG4gICAgJy1hJywgU01TX0xJU1RfUkVUUklFVkFMX0FDVElPTixcbiAgXTtcbiAgaWYgKG9wdHMubWF4KSB7XG4gICAgYXJncy5wdXNoKCctLWVzJywgJ21heCcsIG9wdHMubWF4KTtcbiAgfVxuICBsZXQgb3V0cHV0O1xuICB0cnkge1xuICAgIG91dHB1dCA9IGF3YWl0IHRoaXMuc2hlbGwoYXJncyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJldHJpZXZlIFNNUyBsaXN0IGZyb20gdGhlIGRldmljZS4gYCArXG4gICAgICBgTWFrZSBzdXJlIHRoZSBBcHBpdW0gU2V0dGluZ3MgYXBwbGljYXRpb24gaXMgaW5zdGFsbGVkIGFuZCBpcyB1cCB0byBkYXRlLiBgICtcbiAgICAgIGBPcmlnaW5hbCBlcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgfVxuICByZXR1cm4gcGFyc2VKc29uRGF0YShvdXRwdXQsICdTTVMgbGlzdCcpO1xufTtcblxuLyoqXG4gKiBUeXBlcyB0aGUgZ2l2ZW4gVW5pY29kZSBzdHJpbmcuXG4gKiBJdCBpcyBleHBlY3RlZCB0aGF0IHRoZSBmb2N1cyBpcyBhbHJlYWR5IHB1dFxuICogdG8gdGhlIGRlc3RpbmF0aW9uIGlucHV0IGZpZWxkIGJlZm9yZSB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHN0cmluZyB0byB0eXBlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnB1dCB0ZXh0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBzZW50IHRvIGFkYlxuICovXG5jb21tYW5kcy50eXBlVW5pY29kZSA9IGFzeW5jIGZ1bmN0aW9uIHR5cGVVbmljb2RlICh0ZXh0KSB7XG4gIGlmIChfLmlzTmlsKHRleHQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdGV4dCA9IGAke3RleHR9YDtcbiAgbG9nLmRlYnVnKGBUeXBpbmcgJHt1dGlsLnBsdXJhbGl6ZSgnY2hhcmFjdGVyJywgdGV4dC5sZW5ndGgsIHRydWUpfWApO1xuICBpZiAoIXRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXdhaXQgdGhpcy5ydW5JbkltZUNvbnRleHQoXG4gICAgVU5JQ09ERV9JTUUsIGFzeW5jICgpID0+IGF3YWl0IHRoaXMuaW5wdXRUZXh0KGltYXAuZW5jb2RlKHRleHQpKVxuICApO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogUGVyZm9ybXMgcmVjdXJzaXZlIG1lZGlhIHNjYW4gYXQgdGhlIGdpdmVuIGRlc3RpbmF0aW9uLlxuICogQWxsIHN1Y2Nlc3NmdWxseSBzY2FubmVkIGl0ZW1zIGFyZSBiZWluZyBhZGRlZCB0byB0aGUgZGV2aWNlJ3NcbiAqIG1lZGlhIGxpYnJhcnkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RpbmF0aW9uIEZpbGUvZm9sZGVyIHBhdGggb24gdGhlIHJlbW90ZSBkZXZpY2UuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlcmUgd2FzIGFuIHVuZXhwZWN0ZWQgZXJyb3IgYnkgc2Nhbm5pbmcuXG4gKi9cbmNvbW1hbmRzLnNjYW5NZWRpYSA9IGFzeW5jIGZ1bmN0aW9uIHNjYW5NZWRpYSAoZGVzdGluYXRpb24pIHtcbiAgbG9nLmRlYnVnKGBTY2FubmluZyAnJHtkZXN0aW5hdGlvbn0nIGZvciBtZWRpYSBmaWxlc2ApO1xuICBjb25zdCBvdXRwdXQgPSBhd2FpdCB0aGlzLnNoZWxsKFtcbiAgICAnYW0nLCAnYnJvYWRjYXN0JyxcbiAgICAnLW4nLCBNRURJQV9TQ0FOX1JFQ0VJVkVSLFxuICAgICctYScsIE1FRElBX1NDQU5fQUNUSU9OLFxuICAgICctLWVzJywgJ3BhdGgnLCBkZXN0aW5hdGlvblxuICBdKTtcbiAgaWYgKCFfLmluY2x1ZGVzKG91dHB1dCwgJ3Jlc3VsdD0tMScpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBtZWRpYSBjb3VsZCBiZSBzY2FubmVkIGF0ICcke2Rlc3RpbmF0aW9ufScuIGAgK1xuICAgICAgYENoZWNrIHRoZSBkZXZpY2UgbG9nY2F0IG91dHB1dCBmb3IgbW9yZSBkZXRhaWxzLmApO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21tYW5kcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsa0JBQWtCLEdBQUcsb0JBQW9CO0FBQy9DLE1BQU1DLDZCQUE2QixHQUFHLFdBQVc7QUFDakQsTUFBTUMsZ0NBQWdDLEdBQUksR0FBRUYsa0JBQW1CLDJDQUEwQztBQUN6RyxNQUFNRyw4QkFBOEIsR0FBSSxHQUFFSCxrQkFBbUIsT0FBTTtBQUNuRSxNQUFNSSxnQ0FBZ0MsR0FBSSxHQUFFSixrQkFBbUIsMkNBQTBDO0FBQ3pHLE1BQU1LLDhCQUE4QixHQUFJLEdBQUVMLGtCQUFtQixrQkFBaUI7QUFDOUUsTUFBTU0sMEJBQTBCLEdBQUksR0FBRU4sa0JBQW1CLHNDQUFxQztBQUM5RixNQUFNTyx3QkFBd0IsR0FBSSxHQUFFUCxrQkFBbUIsWUFBVztBQUNsRSxNQUFNUSx1QkFBdUIsR0FBSSxHQUFFUixrQkFBbUIsbUNBQWtDO0FBQ3hGLE1BQU1TLHFCQUFxQixHQUFJLEdBQUVULGtCQUFtQixTQUFRO0FBQzVELE1BQU1VLGdCQUFnQixHQUFJLEdBQUVWLGtCQUFtQixtQkFBa0I7QUFDakUsTUFBTVcsaUJBQWlCLEdBQUksR0FBRVgsa0JBQW1CLGtDQUFpQztB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