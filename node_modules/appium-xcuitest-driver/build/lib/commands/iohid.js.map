{"version":3,"file":"iohid.js","names":["commands","mobilePerformIoHidEvent","opts","page","parseInt","Number","isNaN","errors","InvalidArgumentError","usage","duration","parseFloat","durationSeconds","proxyCommand"],"sources":["../../../lib/commands/iohid.js"],"sourcesContent":["import { errors } from 'appium/driver';\n\nconst commands = {};\n\n/**\n * @typedef {Object} HIDEventOptions\n * @property {!number|string} page The event page identifier\n * @property {!number|string} usage The event usage identifier (usages are defined per-page)\n * @property {!number|string} durationSeconds The event duration in float seconds\n * (XCTest uses 0.005 for a single press event)\n */\n\n/**\n * Emulates triggering of the given low-level IO HID device event. The constants for possible events are defined\n * in https://unix.superglobalmegacorp.com/xnu/newsrc/iokit/IOKit/hidsystem/IOHIDUsageTables.h.html\n * Popular constants:\n * - kHIDPage_Consumer = 0x0C\n * - kHIDUsage_Csmr_VolumeIncrement  = 0xE9 (Volume Up)\n * - kHIDUsage_Csmr_VolumeDecrement  = 0xEA (Volume Down)\n * - kHIDUsage_Csmr_Menu = 0x40 (Home)\n * - kHIDUsage_Csmr_Power  = 0x30 (Power)\n * - kHIDUsage_Csmr_Snapshot  = 0x65 (Power + Home)\n *\n * @param {HIDEventOptions} opts\n */\ncommands.mobilePerformIoHidEvent = async function mobilePerformIoHidEvent (opts = {}) {\n  const page = parseInt(opts.page, 10);\n  if (Number.isNaN(page)) {\n    throw new errors.InvalidArgumentError(`'page' argument must be a valid integer`);\n  }\n  const usage = parseInt(opts.usage, 10);\n  if (Number.isNaN(usage)) {\n    throw new errors.InvalidArgumentError(`'usage' argument must be a valid integer`);\n  }\n  const duration = parseFloat(opts.durationSeconds);\n  if (Number.isNaN(duration)) {\n    throw new errors.InvalidArgumentError(`'durationSeconds' argument must be a valid number`);\n  }\n  return await this.proxyCommand('/wda/performIoHidEvent', 'POST', { page, usage, duration });\n};\n\nexport { commands };\nexport default commands;\n"],"mappings":";;;;;;;;;AAAA;;AAEA,MAAMA,QAAQ,GAAG,EAAjB;;;AAuBAA,QAAQ,CAACC,uBAAT,GAAmC,eAAeA,uBAAf,CAAwCC,IAAI,GAAG,EAA/C,EAAmD;EACpF,MAAMC,IAAI,GAAGC,QAAQ,CAACF,IAAI,CAACC,IAAN,EAAY,EAAZ,CAArB;;EACA,IAAIE,MAAM,CAACC,KAAP,CAAaH,IAAb,CAAJ,EAAwB;IACtB,MAAM,IAAII,cAAA,CAAOC,oBAAX,CAAiC,yCAAjC,CAAN;EACD;;EACD,MAAMC,KAAK,GAAGL,QAAQ,CAACF,IAAI,CAACO,KAAN,EAAa,EAAb,CAAtB;;EACA,IAAIJ,MAAM,CAACC,KAAP,CAAaG,KAAb,CAAJ,EAAyB;IACvB,MAAM,IAAIF,cAAA,CAAOC,oBAAX,CAAiC,0CAAjC,CAAN;EACD;;EACD,MAAME,QAAQ,GAAGC,UAAU,CAACT,IAAI,CAACU,eAAN,CAA3B;;EACA,IAAIP,MAAM,CAACC,KAAP,CAAaI,QAAb,CAAJ,EAA4B;IAC1B,MAAM,IAAIH,cAAA,CAAOC,oBAAX,CAAiC,mDAAjC,CAAN;EACD;;EACD,OAAO,MAAM,KAAKK,YAAL,CAAkB,wBAAlB,EAA4C,MAA5C,EAAoD;IAAEV,IAAF;IAAQM,KAAR;IAAeC;EAAf,CAApD,CAAb;AACD,CAdD;;eAiBeV,Q"}